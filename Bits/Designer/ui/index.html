<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>StreamCraft Bit Designer</title>
    <link rel="stylesheet" href="https://unpkg.com/nes.css@2.3.0/css/nes.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/designer/ui/styles.css" />
</head>
<body>
    <div class="designer-shell">
        <header class="topbar nes-container is-dark">
            <div class="topbar-left">
                <p class="nes-text is-primary">StreamCraft Designer</p>
                <h1>Overlay Draft</h1>
                <p class="subtitle">Drag widgets, bind data, and preview live overlays.</p>
            </div>
            <div class="topbar-right">
                <div class="menu-bar nes-container is-dark">
                    <button class="nes-btn">File</button>
                    <button class="nes-btn">Edit</button>
                    <button class="nes-btn">Settings</button>
                </div>
                <div class="topbar-actions">
                    <button class="nes-btn is-success">Preview Live</button>
                    <button class="nes-btn is-warning" disabled>Publish</button>
                </div>
            </div>
        </header>

        <div class="designer-grid">
            <aside class="sidebar left nes-container is-dark">
                <h2>Widgets</h2>
                <p>Drag a widget onto the canvas.</p>
                <ul id="widget-palette" class="nes-list is-disc"></ul>

                <h2>Data Sources</h2>
                <p>Filter by category, then pick a source.</p>
                <label for="source-category">Category</label>
                <div class="nes-select">
                    <select id="source-category">
                        <option value="all">All</option>
                    </select>
                </div>
                <label for="source-select">Source</label>
                <div class="nes-select">
                    <select id="source-select"></select>
                </div>
            </aside>

            <section class="canvas-panel nes-container is-dark">
                <div class="canvas-header">
                    <h2>Canvas</h2>
                    <div class="canvas-meta">
                        <span class="chip">1920×1080</span>
                        <span class="chip">Grid: Off</span>
                    </div>
                </div>
                <div id="designer-canvas" class="designer-canvas"></div>
            </section>

            <aside class="sidebar right nes-container is-dark">
                <h2>Inspector</h2>
                <div id="inspector-empty">
                    <p>Select a widget to edit bindings and styles.</p>
                </div>
                <div id="inspector-form" class="inspector-form hidden">
                    <div class="inspector-header">
                        <span id="inspector-widget-name">Widget</span>
                    </div>
                    <label for="inspector-source">Data source</label>
                    <div class="nes-select">
                        <select id="inspector-source"></select>
                    </div>
                    <label for="inspector-field">Field path</label>
                    <input id="inspector-field" class="nes-input" placeholder="e.g. topProcesses[0].memoryMb" />
                    <label for="inspector-format">Format</label>
                    <div class="nes-select">
                        <select id="inspector-format">
                            <option value="raw">Raw</option>
                            <option value="number">Number (2dp)</option>
                            <option value="uppercase">Uppercase</option>
                            <option value="json">JSON</option>
                        </select>
                    </div>
                    <label>Preview value</label>
                    <div id="inspector-value" class="nes-container is-dark">—</div>
                </div>
            </aside>

            <section class="bottom-panel nes-container is-dark">
                <div class="bottom-header">
                    <h2>Data Preview</h2>
                    <span class="chip">Live</span>
                </div>
                <pre id="preview-json">Select a data source to preview.</pre>
            </section>
        </div>
    </div>
    <script src="/designer/ui/app.js"></script>
</body>
</html>
